{"version":3,"sources":["componets/Dialog/DialogItem/DialogItem.jsx","componets/Dialog/Message/Message.jsx","componets/Dialog/Dialog.jsx","hoc/withAuthRedirect.js","componets/Dialog/Dialog.module.css","componets/Dialog/DialogItem/DialogItem.module.css","componets/Dialog/Message/Message.module.css","componets/selectors/dialogSelectors.js","componets/Dialog/DialogÐ¡ontainer.jsx"],"names":["DialogfItem","props","className","s","dialogItem","src","alt","to","id","name","Message","style","float","position","block","block__foto","img","block__message","message","AddMessageRedaxForm","reduxForm","form","onSubmitSuccess","result","dispatch","reset","onSubmit","handleSubmit","dialog__btn","Field","component","Dialog","dialogsElements","dialogsData","map","el","messagesElements","messages","dialog","dialog__name","dialog__message","value","addMessage","newMyMessage","mapStateToPropsForRedirect","state","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","React","connect","module","exports","dialogsDataSelector","dialogsPage","messagesSelector","newMyMessageSelector","compose","addMyMessageActionCreator"],"mappings":"oKAiBeA,EAbK,SAACC,GACjB,OAAQ,sBAAKC,UAAWC,IAAEC,WAAlB,UACA,qBAAKF,UAAU,mBAAf,SACI,qBACIG,IAAI,oGACJC,IAAI,OAEZ,cAAC,IAAD,CAASC,GAAE,sBAAiBN,EAAMO,IAAlC,SAAyCP,EAAMQ,W,kBCgB5CC,EAvBC,SAACT,GACb,IAAIU,EAAM,CACNC,MAAMX,EAAMY,UAGhB,OAAQ,sBAAKX,UAAWC,IAAEW,MAAOH,MAAOA,EAAhC,UAEA,sBAAKT,UAAWC,IAAEY,YAAlB,UACI,qBACIV,IAAKJ,EAAMe,IACXV,IAAI,KACR,4BAAIL,EAAMQ,UAEd,qBAAKP,UAAWC,IAAEc,eAAlB,SACI,4BAAIhB,EAAMiB,gB,0BC0CpBC,EAAsBC,YAAU,CAACC,KAAM,uBAAwBC,gBAbjD,SAACC,EAAQC,GAAT,OAChBA,EAASC,YAAM,2BAYSL,EAXL,SAACnB,GAEpB,OACI,uBAAMyB,SAAUzB,EAAM0B,aAAczB,UAAWC,IAAEyB,YAAjD,UACI,cAACC,EAAA,EAAD,CAAOC,UAAW,WAAYrB,KAAM,iBACpC,4BACI,kDAMDsB,IAtDA,SAAC9B,GAGZ,IAAI+B,EAAkB/B,EAAMgC,YAAYC,KAAI,SAAAC,GAAE,OAAI,cAAC,EAAD,CAAa1B,KAAM0B,EAAG1B,KAAkBD,GAAI2B,EAAG3B,IAAd2B,EAAG3B,OAClF4B,EAAmBnC,EAAMoC,SAASH,KAAI,SAAAC,GAAE,OAAI,cAAC,EAAD,CAASjB,QAASiB,EAAGjB,QAAqBF,IAAKmB,EAAGnB,IACzCP,KAAM0B,EAAG1B,KAAMI,SAAUsB,EAAGtB,UADFsB,EAAG3B,OAqBtF,OACI,sBAAKN,UAAWC,IAAEmC,OAAlB,UACI,qBAAKpC,UAAWC,IAAEoC,aAAlB,SACKP,IAEL,sBAAK9B,UAAWC,IAAEqC,gBAAlB,UACKJ,EAED,cAACjB,EAAD,CAAqBO,SAbb,SAACe,GAEjBxC,EAAMyC,WAAWD,EAAME,yB,6JCxB3BC,EAA2B,SAACC,GAC5B,MAAO,CACHC,OAAOD,EAAME,KAAKD,SAIbE,EAAmB,SAACC,GAAe,IACtCC,EADqC,4JAEvC,WAEI,OAAKC,KAAKlD,MAAM6C,OACT,cAACG,EAAD,eAAeE,KAAKlD,QADI,cAAC,IAAD,CAAUM,GAAI,eAJV,GACX6C,IAAMH,WAWtC,OADkCI,YAAQT,EAARS,CAAoCH,K,oBCrB1EI,EAAOC,QAAU,CAAC,OAAS,uBAAuB,aAAe,6BAA6B,gBAAkB,gCAAgC,YAAc,8B,oBCA9JD,EAAOC,QAAU,CAAC,WAAa,iC,oBCA/BD,EAAOC,QAAU,CAAC,MAAQ,uBAAuB,YAAc,6BAA6B,eAAiB,kC,2FCDhGC,EAAoB,SAACX,GAC9B,OAAOA,EAAMY,YAAYxB,aAEhByB,EAAiB,SAACb,GAC3B,OAAOA,EAAMY,YAAYpB,UAEhBsB,EAAqB,SAACd,GAC/B,OAAOA,EAAMY,YAAYd,cCwBdiB,sBAAQP,aArBD,SAACR,GACnB,MAAO,CACHZ,YAAauB,EAAoBX,GACjCR,SAAUqB,EAAiBb,GAC3BF,aAAcgB,EAAqBd,OAIpB,SAACrB,GACpB,MAAO,CACHkB,WAAW,SAACC,GACRnB,EAASqC,YAA0BlB,SAUoBK,IAApDY,CAAsE7B","file":"static/js/6.f9fd4a39.chunk.js","sourcesContent":["import React from 'react';\r\nimport s from \"./DialogItem.module.css\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst DialogfItem = (props) => {\r\n    return (<div className={s.dialogItem}>\r\n            <div className=\".dialogItem__img\">\r\n                <img\r\n                    src=\"https://habrastorage.org/getpro/habr/post_images/3db/ac4/5df/3dbac45df51c33b0bd63621081afbe29.jpg\"\r\n                    alt=\"\"/>\r\n            </div>\r\n            <NavLink to={`/dialogs/id=${props.id}`}>{props.name}</NavLink>\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default DialogfItem;","import React from 'react';\r\nimport s from \"./Message.module.css\";\r\n\r\n\r\nconst Message = (props) => {\r\n    let style={\r\n        float:props.position\r\n    }\r\n\r\n    return (<div className={s.block} style={style}>\r\n            {/*<div className={s.null}></div>*/}\r\n            <div className={s.block__foto}>\r\n                <img\r\n                    src={props.img}\r\n                    alt=\"\"/>\r\n                <p>{props.name}</p>\r\n            </div>\r\n            <div className={s.block__message}>\r\n                <p>{props.message}</p>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n    // return <div className={s.dialog__message_messages}>{props.message}</div>\r\n}\r\n\r\n\r\nexport default Message;","import React from 'react';\r\nimport s from \"../Dialog/Dialog.module.css\";\r\nimport DialogfItem from \"./DialogItem/DialogItem\";\r\nimport Message from \"./Message/Message\";\r\nimport {Field, reduxForm, reset} from \"redux-form\";\r\n\r\n\r\nconst Dialog = (props) => {\r\n\r\n\r\n    let dialogsElements = props.dialogsData.map(el => <DialogfItem name={el.name} key={el.id} id={el.id}/>)\r\n    let messagesElements = props.messages.map(el => <Message message={el.message} key={el.id} img={el.img}\r\n                                                             name={el.name} position={el.position}/>)\r\n\r\n    // let newMessagePost = React.createRef();\r\n\r\n    // let addMessage = () => {\r\n    //\r\n    //     props.addMessage()\r\n    //\r\n    // }\r\n    // let onMessageChange = (e) => {\r\n    //\r\n    //     let text = e.currentTarget.value\r\n    //     props.onMessageChange(text)\r\n    //\r\n    // }\r\n    let addNewMessage = (value) => {\r\n        // debugger\r\n        props.addMessage(value.newMyMessage)\r\n    }\r\n\r\n    return (\r\n        <div className={s.dialog}>\r\n            <div className={s.dialog__name}>\r\n                {dialogsElements}\r\n            </div>\r\n            <div className={s.dialog__message}>\r\n                {messagesElements}\r\n                {/*{myMessagesElements}*/}\r\n                <AddMessageRedaxForm onSubmit={addNewMessage}/>\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n\r\n}\r\nconst afterSubmit = (result, dispatch) =>\r\n    dispatch(reset('dialogAddMessageForm'));\r\nconst AddMessageForm = (props) => {\r\n\r\n    return (\r\n        <form onSubmit={props.handleSubmit} className={s.dialog__btn}>\r\n            <Field component={'textarea'} name={'newMyMessage'}/>\r\n            <p>\r\n                <button>send</button>\r\n            </p>\r\n        </form>\r\n    )\r\n}\r\nconst AddMessageRedaxForm = reduxForm({form: 'dialogAddMessageForm', onSubmitSuccess: afterSubmit})(AddMessageForm)\r\nexport default Dialog;","import React from \"react\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport Dialog from \"../componets/Dialog/Dialog\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToPropsForRedirect=(state)=>{\r\n    return {\r\n        isAuth:state.auth.isAuth\r\n    }\r\n};\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n\r\n            if (!this.props.isAuth) return <Redirect to={\"/login\"}/>\r\n            return <Component {...this.props}/>\r\n\r\n        }\r\n    }\r\n\r\n\r\n   let ConnectedAuthRedicertComponent=connect(mapStateToPropsForRedirect)(RedirectComponent)\r\n    return ConnectedAuthRedicertComponent\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialog\":\"Dialog_dialog__3CuAW\",\"dialog__name\":\"Dialog_dialog__name__3BOSM\",\"dialog__message\":\"Dialog_dialog__message__1OEA_\",\"dialog__btn\":\"Dialog_dialog__btn__1usaq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogItem\":\"DialogItem_dialogItem__2_Fo5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"block\":\"Message_block__2vQqP\",\"block__foto\":\"Message_block__foto__227qW\",\"block__message\":\"Message_block__message__12yQv\"};","export const dialogsDataSelector=(state)=>{\r\n    return state.dialogsPage.dialogsData\r\n}\r\nexport const messagesSelector=(state)=>{\r\n    return state.dialogsPage.messages\r\n}\r\nexport const newMyMessageSelector=(state)=>{\r\n    return state.dialogsPage.newMyMessage\r\n}\r\n","import React from 'react';\r\nimport {addMyMessageActionCreator, updateNewMyMessageActionCreator} from \"../../redux/reducerDialog\";\r\nimport Dialog from \"./Dialog\";\r\n// import StoreContext from \"../../StoreContext\";\r\nimport {connect} from \"react-redux\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\nimport {dialogsDataSelector, messagesSelector, newMyMessageSelector} from \"../selectors/dialogSelectors\";\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        dialogsData: dialogsDataSelector(state),\r\n        messages: messagesSelector(state),\r\n        newMyMessage: newMyMessageSelector(state),\r\n\r\n    }\r\n}\r\nlet mapDispatchToProps=(dispatch)=>{\r\n    return {\r\n        addMessage:(newMyMessage)=>{\r\n            dispatch(addMyMessageActionCreator(newMyMessage))\r\n            debugger\r\n        },\r\n        // onMessageChange:(text)=>{\r\n        //     dispatch(updateNewMyMessageActionCreator(text))\r\n        // }\r\n    }\r\n\r\n}\r\n\r\nexport default compose(connect(mapStateToProps,mapDispatchToProps),withAuthRedirect)(Dialog)"],"sourceRoot":""}