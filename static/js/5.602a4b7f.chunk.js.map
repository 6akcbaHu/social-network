{"version":3,"sources":["componets/Dialog/DialogItem/DialogItem.jsx","componets/Dialog/Message/Message.jsx","componets/Dialog/Dialog.jsx","hoc/withAuthRedirect.js","componets/Dialog/Dialog.module.css","componets/Dialog/DialogItem/DialogItem.module.css","componets/Dialog/Message/Message.module.css","componets/Users/Users.module.css","componets/Users/Users.jsx","componets/Users/UsersContainer.jsx"],"names":["DialogfItem","props","className","s","dialogItem","src","alt","to","id","name","Message","style","float","position","block","block__foto","img","block__message","message","AddMessageRedaxForm","reduxForm","form","onSubmitSuccess","result","dispatch","reset","onSubmit","handleSubmit","dialog__btn","Field","component","Dialog","dialogsElements","dialogsData","map","el","messagesElements","messages","dialog","dialog__name","dialog__message","value","addMessage","newMyMessage","mapStateToPropsForRedirect","state","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","React","connect","module","exports","Users","users","users__input","type","u","users__item","item__foto","photos","small","AvaUsers","item__name","item__button","followed","disabled","followInProgerss","some","onClick","unfollowThunkCreator","removefriends","followThunkCreator","getUserProfileThunkCreator2","user__button","nextPage","UsersСontainer","componentDidMount","getUsersThunkCreator","currentPage","pageSize","nextPageThunkCreator","isFetching","Preloader","friendsList","removeFriends","compose","usersSelectors","pageSizeSelectors","totalUsersCount","totalUsersCountSelectors","currentPageSelectors","isFetchingSelectors","followInProgerssSelectors","stateSelector","setCurrentPage","toggleIsFatching","toggleFollowInProgress"],"mappings":"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","file":"static/js/5.602a4b7f.chunk.js","sourcesContent":["import React from 'react';\r\nimport s from \"./DialogItem.module.css\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst DialogfItem = (props) => {\r\n    return (<div className={s.dialogItem}>\r\n            <div className=\".dialogItem__img\">\r\n                <img\r\n                    src=\"https://habrastorage.org/getpro/habr/post_images/3db/ac4/5df/3dbac45df51c33b0bd63621081afbe29.jpg\"\r\n                    alt=\"\"/>\r\n            </div>\r\n            <NavLink to={`/dialogs/id=${props.id}`}>{props.name}</NavLink>\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default DialogfItem;","import React from 'react';\r\nimport s from \"./Message.module.css\";\r\n\r\n\r\nconst Message = (props) => {\r\n    let style={\r\n        float:props.position\r\n    }\r\n\r\n    return (<div className={s.block} style={style}>\r\n            {/*<div className={s.null}></div>*/}\r\n            <div className={s.block__foto}>\r\n                <img\r\n                    src={props.img}\r\n                    alt=\"\"/>\r\n                <p>{props.name}</p>\r\n            </div>\r\n            <div className={s.block__message}>\r\n                <p>{props.message}</p>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n    // return <div className={s.dialog__message_messages}>{props.message}</div>\r\n}\r\n\r\n\r\nexport default Message;","import React from 'react';\r\nimport s from \"../Dialog/Dialog.module.css\";\r\nimport DialogfItem from \"./DialogItem/DialogItem\";\r\nimport Message from \"./Message/Message\";\r\nimport {Field, reduxForm, reset} from \"redux-form\";\r\n\r\n\r\nconst Dialog = (props) => {\r\n\r\n\r\n    let dialogsElements = props.dialogsData.map(el => <DialogfItem name={el.name} key={el.id} id={el.id}/>)\r\n    let messagesElements = props.messages.map(el => <Message message={el.message} key={el.id} img={el.img}\r\n                                                             name={el.name} position={el.position}/>)\r\n\r\n    // let newMessagePost = React.createRef();\r\n\r\n    // let addMessage = () => {\r\n    //\r\n    //     props.addMessage()\r\n    //\r\n    // }\r\n    // let onMessageChange = (e) => {\r\n    //\r\n    //     let text = e.currentTarget.value\r\n    //     props.onMessageChange(text)\r\n    //\r\n    // }\r\n    let addNewMessage = (value) => {\r\n        // debugger\r\n        props.addMessage(value.newMyMessage)\r\n    }\r\n\r\n    return (\r\n        <div className={s.dialog}>\r\n            <div className={s.dialog__name}>\r\n                {dialogsElements}\r\n            </div>\r\n            <div className={s.dialog__message}>\r\n                {messagesElements}\r\n                {/*{myMessagesElements}*/}\r\n                <AddMessageRedaxForm onSubmit={addNewMessage}/>\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n\r\n}\r\nconst afterSubmit = (result, dispatch) =>\r\n    dispatch(reset('dialogAddMessageForm'));\r\nconst AddMessageForm = (props) => {\r\n\r\n    return (\r\n        <form onSubmit={props.handleSubmit} className={s.dialog__btn}>\r\n            <Field component={'textarea'} name={'newMyMessage'}/>\r\n            <p>\r\n                <button>send</button>\r\n            </p>\r\n        </form>\r\n    )\r\n}\r\nconst AddMessageRedaxForm = reduxForm({form: 'dialogAddMessageForm', onSubmitSuccess: afterSubmit})(AddMessageForm)\r\nexport default Dialog;","import React from \"react\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport Dialog from \"../componets/Dialog/Dialog\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToPropsForRedirect=(state)=>{\r\n    return {\r\n        isAuth:state.auth.isAuth\r\n    }\r\n};\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n\r\n            if (!this.props.isAuth) return <Redirect to={\"/login\"}/>\r\n            return <Component {...this.props}/>\r\n\r\n        }\r\n    }\r\n\r\n\r\n   let ConnectedAuthRedicertComponent=connect(mapStateToPropsForRedirect)(RedirectComponent)\r\n    return ConnectedAuthRedicertComponent\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialog\":\"Dialog_dialog__3CuAW\",\"dialog__name\":\"Dialog_dialog__name__3BOSM\",\"dialog__message\":\"Dialog_dialog__message__1OEA_\",\"dialog__btn\":\"Dialog_dialog__btn__1usaq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogItem\":\"DialogItem_dialogItem__2_Fo5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"block\":\"Message_block__2vQqP\",\"block__foto\":\"Message_block__foto__227qW\",\"block__message\":\"Message_block__message__12yQv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"users\":\"Users_users__1KiRt\",\"users__input\":\"Users_users__input__3c_59\",\"users__item\":\"Users_users__item__2mWVU\",\"item__foto\":\"Users_item__foto__2kfaA\",\"item__name\":\"Users_item__name__1KPv0\",\"item__button\":\"Users_item__button__3L9t4\",\"user__button\":\"Users_user__button__1OhBx\"};","import React, {useState} from \"react\";\r\nimport s from \"./Users.module.css\"\r\nimport AvaUsers from \"../../images/users.jpg\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport {getFollowUsers, getUnFollowUsers} from \"../../api/api\";\r\nimport {getUserProfileThunkCreator} from \"../../redux/reducerProfile\";\r\n\r\nconst Users = (props) => {\r\n\r\n    return (\r\n\r\n\r\n        <div className={s.users}>\r\n            <div className={s.users__input}>\r\n                <input type=\"text\"/>\r\n            </div>\r\n\r\n            {props.users.map(u =>\r\n\r\n                <div key={u.id} className={s.users__item}>\r\n                    <div className={s.item__foto}>\r\n\r\n                        <NavLink to={'/profile/' + u.id}><img src={u.photos.small != null ? u.photos.small : AvaUsers}/></NavLink>\r\n                    </div>\r\n                    <div className={s.item__name}>\r\n                        <p>{u.name}</p>\r\n                        <p>{'u.location.city'}</p>\r\n                        <p>{'u.location.conutry'}</p>\r\n                    </div>\r\n                    <div className={s.item__button}>\r\n                        {u.followed\r\n                            ? <button disabled={props.followInProgerss.some(id => id === u.id)} onClick={() => {\r\n                                props.unfollowThunkCreator(u.id)\r\n                                props.removefriends(u.id)\r\n                            }}>remove friends</button>\r\n                            : <button disabled={props.followInProgerss.some(id => id === u.id)} onClick={() => {\r\n                                props.followThunkCreator(u.id)\r\n                                props.getUserProfileThunkCreator2(u.id);\r\n\r\n                            }}>add friends</button>}\r\n\r\n                    </div>\r\n                </div>\r\n            )}\r\n            <button className={s.user__button} onClick={() => {\r\n                props.nextPage()\r\n            }}>Show more\r\n            </button>\r\n        </div>\r\n    )\r\n\r\n\r\n}\r\n\r\nexport default Users;","import React from \"react\";\r\nimport Users from \"./Users\";\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n    followThunkCreator, getUserProfileThunkCreator2, getUsersThunkCreator, nextPageThunkCreator, removeFriends,\r\n    setCurrentPage,\r\n    toggleFollowInProgress, toggleIsFatching,\r\n    unfollowThunkCreator\r\n} from \"../../redux/reducerUser\";\r\n\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\nimport {\r\n    currentPageSelectors, followInProgerssSelectors,\r\n    isFetchingSelectors,\r\n    pageSizeSelectors, stateSelector,\r\n    totalUsersCountSelectors, usersSelectors\r\n} from \"../selectors/usersSelectors\";\r\n\r\n// import {getUserProfileThunkCreator, getUserProfileThunkCreator2} from \"../../redux/reducerProfile\";\r\n\r\n\r\nclass UsersСontainer extends React.Component {\r\n\r\n    componentDidMount = () => {\r\n        this.props.getUsersThunkCreator(this.props.currentPage, this.props.pageSize)\r\n\r\n    }\r\n\r\n    nextPage = () => {\r\n        this.props.nextPageThunkCreator(this.props.currentPage, this.props.pageSize)\r\n\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n            <>\r\n                {this.props.isFetching ? <Preloader/> : null}\r\n                <Users users={this.props.users}\r\n                       unfollowThunkCreator={this.props.unfollowThunkCreator}\r\n                       followThunkCreator={this.props.followThunkCreator}\r\n                       nextPage={this.nextPage}\r\n                       isFetching={this.props.isFetching}\r\n                       followInProgerss={this.props.followInProgerss}\r\n                       getUserProfileThunkCreator2={this.props.getUserProfileThunkCreator2}\r\n                       friendsList={this.props.friendsList}\r\n                       removefriends={this.props.removeFriends}\r\n                />\r\n            </>\r\n\r\n\r\n        )\r\n    }\r\n\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n\r\n    return {\r\n        users: usersSelectors(state),\r\n        pageSize: pageSizeSelectors(state),\r\n        totalUsersCount: totalUsersCountSelectors(state),\r\n        currentPage: currentPageSelectors(state),\r\n        isFetching: isFetchingSelectors(state),\r\n        followInProgerss: followInProgerssSelectors(state),\r\n        friendsList: stateSelector(state)\r\n\r\n    }\r\n\r\n}\r\n\r\n\r\nexport default compose(\r\n    withAuthRedirect,\r\n    connect(mapStateToProps,\r\n        {\r\n            removeFriends,\r\n            getUserProfileThunkCreator2,\r\n            followThunkCreator, unfollowThunkCreator, setCurrentPage,\r\n            toggleIsFatching, toggleFollowInProgress, getUsersThunkCreator, nextPageThunkCreator\r\n        })\r\n)(UsersСontainer)\r\n"],"sourceRoot":""}