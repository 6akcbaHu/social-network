{"version":3,"sources":["hoc/withAuthRedirect.js","componets/Users/Users.module.css","componets/Users/Users.jsx","componets/Users/UsersContainer.jsx"],"names":["mapStateToPropsForRedirect","state","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","props","to","React","connect","module","exports","Users","className","s","users","users__input","type","map","u","users__item","item__foto","id","src","photos","small","AvaUsers","item__name","name","item__button","followed","disabled","followInProgerss","some","onClick","unfollowThunkCreator","removefriends","followThunkCreator","getUserProfileThunkCreator2","user__button","nextPage","UsersСontainer","componentDidMount","getUsersThunkCreator","currentPage","pageSize","nextPageThunkCreator","isFetching","Preloader","friendsList","removeFriends","compose","usersSelectors","pageSizeSelectors","totalUsersCount","totalUsersCountSelectors","currentPageSelectors","isFetchingSelectors","followInProgerssSelectors","stateSelector","setCurrentPage","toggleIsFatching","toggleFollowInProgress"],"mappings":"2NAIIA,EAA6B,SAACC,GAC9B,MAAO,CACHC,OAAQD,EAAME,KAAKD,SAIdE,EAAmB,SAACC,GAAe,IACtCC,EADqC,4JAEvC,WAEI,OAAKC,KAAKC,MAAMN,OACT,cAACG,EAAD,eAAeE,KAAKC,QADI,cAAC,IAAD,CAAUC,GAAI,eAJV,GACXC,IAAML,WAWtC,OADqCM,YAAQX,EAARW,CAAoCL,K,oBCpB7EM,EAAOC,QAAU,CAAC,MAAQ,qBAAqB,aAAe,4BAA4B,YAAc,2BAA2B,WAAa,0BAA0B,WAAa,0BAA0B,aAAe,4BAA4B,aAAe,8B,qIC0C5PC,EAvCD,SAACN,GACX,OACI,sBAAKO,UAAWC,IAAEC,MAAlB,UACI,qBAAKF,UAAWC,IAAEE,aAAlB,SACI,uBAAOC,KAAK,WAEfX,EAAMS,MAAMG,KAAI,SAAAC,GAAC,OACd,sBAAgBN,UAAWC,IAAEM,YAA7B,UACI,qBAAKP,UAAWC,IAAEO,WAAlB,SACI,cAAC,IAAD,CAASd,GAAI,YAAcY,EAAEG,GAA7B,SAAiC,qBAAKC,IAAuB,MAAlBJ,EAAEK,OAAOC,MAAgBN,EAAEK,OAAOC,MAAQC,UAEzF,sBAAKb,UAAWC,IAAEa,WAAlB,UACI,4BAAIR,EAAES,OACN,4BAAI,oBACJ,4BAAI,0BAER,qBAAKf,UAAWC,IAAEe,aAAlB,SACKV,EAAEW,SACG,wBAAQC,SAAUzB,EAAM0B,iBAAiBC,MAAK,SAAAX,GAAE,OAAIA,IAAOH,EAAEG,MAAKY,QAAS,WACzE5B,EAAM6B,qBAAqBhB,EAAEG,IAC7BhB,EAAM8B,cAAcjB,EAAEG,KAFxB,4BAIA,wBAAQS,SAAUzB,EAAM0B,iBAAiBC,MAAK,SAAAX,GAAE,OAAIA,IAAOH,EAAEG,MAAKY,QAAS,WACzE5B,EAAM+B,mBAAmBlB,EAAEG,IAC3BhB,EAAMgC,4BAA4BnB,EAAEG,KAFtC,6BAfJH,EAAEG,OAsBhB,wBAAQT,UAAWC,IAAEyB,aAAcL,QAAS,WACxC5B,EAAMkC,YADV,2B,iDCbNC,E,4MAEFC,kBAAoB,WAChB,EAAKpC,MAAMqC,qBAAqB,EAAKrC,MAAMsC,YAAa,EAAKtC,MAAMuC,W,EAIvEL,SAAW,WACP,EAAKlC,MAAMwC,qBAAqB,EAAKxC,MAAMsC,YAAa,EAAKtC,MAAMuC,W,4CAIvE,WAEI,OACI,qCACKxC,KAAKC,MAAMyC,WAAa,cAACC,EAAA,EAAD,IAAe,KACxC,cAAC,EAAD,CAAOjC,MAAOV,KAAKC,MAAMS,MAClBoB,qBAAsB9B,KAAKC,MAAM6B,qBACjCE,mBAAoBhC,KAAKC,MAAM+B,mBAC/BG,SAAUnC,KAAKmC,SACfO,WAAY1C,KAAKC,MAAMyC,WACvBf,iBAAkB3B,KAAKC,MAAM0B,iBAC7BM,4BAA6BjC,KAAKC,MAAMgC,4BACxCW,YAAa5C,KAAKC,MAAM2C,YACxBb,cAAe/B,KAAKC,MAAM4C,uB,GAzBpB1C,IAAML,WAmDpBgD,sBACXjD,IACAO,aAlBkB,SAACV,GAEnB,MAAO,CACHgB,MAAOqC,YAAerD,GACtB8C,SAAUQ,YAAkBtD,GAC5BuD,gBAAiBC,YAAyBxD,GAC1C6C,YAAaY,YAAqBzD,GAClCgD,WAAYU,YAAoB1D,GAChCiC,iBAAkB0B,YAA0B3D,GAC5CkD,YAAaU,YAAc5D,MAU3B,CACImD,kBACAZ,gCACAD,uBAAoBF,yBAAsByB,mBAC1CC,qBAAkBC,2BAAwBnB,yBAAsBG,2BAP7DK,CASbV","file":"static/js/7.3387c552.chunk.js","sourcesContent":["import React from \"react\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToPropsForRedirect = (state) => {\r\n    return {\r\n        isAuth: state.auth.isAuth\r\n    }\r\n};\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n\r\n            if (!this.props.isAuth) return <Redirect to={\"/login\"}/>\r\n            return <Component {...this.props}/>\r\n\r\n        }\r\n    }\r\n\r\n\r\n    let ConnectedAuthRedicertComponent = connect(mapStateToPropsForRedirect)(RedirectComponent)\r\n    return ConnectedAuthRedicertComponent\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"users\":\"Users_users__1KiRt\",\"users__input\":\"Users_users__input__3c_59\",\"users__item\":\"Users_users__item__2mWVU\",\"item__foto\":\"Users_item__foto__2kfaA\",\"item__name\":\"Users_item__name__1KPv0\",\"item__button\":\"Users_item__button__3L9t4\",\"user__button\":\"Users_user__button__1OhBx\"};","import React from \"react\";\r\nimport s from \"./Users.module.css\"\r\nimport AvaUsers from \"../../images/users.jpg\";\r\nimport {NavLink} from \"react-router-dom\";\r\nconst Users = (props) => {\r\n    return (\r\n        <div className={s.users}>\r\n            <div className={s.users__input}>\r\n                <input type=\"text\"/>\r\n            </div>\r\n            {props.users.map(u =>\r\n                <div key={u.id} className={s.users__item}>\r\n                    <div className={s.item__foto}>\r\n                        <NavLink to={'/profile/' + u.id}><img src={u.photos.small != null ? u.photos.small : AvaUsers}/></NavLink>\r\n                    </div>\r\n                    <div className={s.item__name}>\r\n                        <p>{u.name}</p>\r\n                        <p>{'u.location.city'}</p>\r\n                        <p>{'u.location.conutry'}</p>\r\n                    </div>\r\n                    <div className={s.item__button}>\r\n                        {u.followed\r\n                            ? <button disabled={props.followInProgerss.some(id => id === u.id)} onClick={() => {\r\n                                props.unfollowThunkCreator(u.id)\r\n                                props.removefriends(u.id)\r\n                            }}>remove friends</button>\r\n                            : <button disabled={props.followInProgerss.some(id => id === u.id)} onClick={() => {\r\n                                props.followThunkCreator(u.id)\r\n                                props.getUserProfileThunkCreator2(u.id);\r\n                            }}>add friends</button>}\r\n                    </div>\r\n                </div>\r\n            )}\r\n            <button className={s.user__button} onClick={() => {\r\n                props.nextPage()\r\n            }}>Show more\r\n            </button>\r\n        </div>\r\n    )\r\n\r\n\r\n}\r\n\r\nexport default Users;","import React from \"react\";\r\nimport Users from \"./Users\";\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n    followThunkCreator, getUserProfileThunkCreator2, getUsersThunkCreator, nextPageThunkCreator, removeFriends,\r\n    setCurrentPage,\r\n    toggleFollowInProgress, toggleIsFatching,\r\n    unfollowThunkCreator\r\n} from \"../../redux/reducerUser\";\r\n\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\nimport {\r\n    currentPageSelectors, followInProgerssSelectors,\r\n    isFetchingSelectors,\r\n    pageSizeSelectors, stateSelector,\r\n    totalUsersCountSelectors, usersSelectors\r\n} from \"../selectors/usersSelectors\";\r\n\r\nclass UsersСontainer extends React.Component {\r\n\r\n    componentDidMount = () => {\r\n        this.props.getUsersThunkCreator(this.props.currentPage, this.props.pageSize)\r\n\r\n    }\r\n\r\n    nextPage = () => {\r\n        this.props.nextPageThunkCreator(this.props.currentPage, this.props.pageSize)\r\n\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n            <>\r\n                {this.props.isFetching ? <Preloader/> : null}\r\n                <Users users={this.props.users}\r\n                       unfollowThunkCreator={this.props.unfollowThunkCreator}\r\n                       followThunkCreator={this.props.followThunkCreator}\r\n                       nextPage={this.nextPage}\r\n                       isFetching={this.props.isFetching}\r\n                       followInProgerss={this.props.followInProgerss}\r\n                       getUserProfileThunkCreator2={this.props.getUserProfileThunkCreator2}\r\n                       friendsList={this.props.friendsList}\r\n                       removefriends={this.props.removeFriends}\r\n                />\r\n            </>\r\n\r\n\r\n        )\r\n    }\r\n\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n\r\n    return {\r\n        users: usersSelectors(state),\r\n        pageSize: pageSizeSelectors(state),\r\n        totalUsersCount: totalUsersCountSelectors(state),\r\n        currentPage: currentPageSelectors(state),\r\n        isFetching: isFetchingSelectors(state),\r\n        followInProgerss: followInProgerssSelectors(state),\r\n        friendsList: stateSelector(state)\r\n\r\n    }\r\n\r\n}\r\n\r\n\r\nexport default compose(\r\n    withAuthRedirect,\r\n    connect(mapStateToProps,\r\n        {\r\n            removeFriends,\r\n            getUserProfileThunkCreator2,\r\n            followThunkCreator, unfollowThunkCreator, setCurrentPage,\r\n            toggleIsFatching, toggleFollowInProgress, getUsersThunkCreator, nextPageThunkCreator\r\n        })\r\n)(UsersСontainer)\r\n"],"sourceRoot":""}