(this.webpackJsonpMyProject=this.webpackJsonpMyProject||[]).push([[4],{242:function(e,t,s){"use strict";s(0);var a=s(245),n=s.n(a),i=s(246),r=s.n(i),c=s(23),o=s(1),_=function(e){return Object(o.jsxs)("div",{className:r.a.dialogItem,children:[Object(o.jsx)("div",{className:".dialogItem__img",children:Object(o.jsx)("img",{src:"https://habrastorage.org/getpro/habr/post_images/3db/ac4/5df/3dbac45df51c33b0bd63621081afbe29.jpg",alt:""})}),Object(o.jsx)(c.b,{to:"/dialogs/id=".concat(e.id),children:e.name})]})},l=s(247),u=s.n(l),d=function(e){var t={float:e.position};return Object(o.jsxs)("div",{className:u.a.block,style:t,children:[Object(o.jsxs)("div",{className:u.a.block__foto,children:[Object(o.jsx)("img",{src:e.img,alt:""}),Object(o.jsx)("p",{children:e.name})]}),Object(o.jsx)("div",{className:u.a.block__message,children:Object(o.jsx)("p",{children:e.message})})]})},j=s(32),b=s(117),p=s(118),f=Object(p.a)({form:"dialogAddMessageForm",onSubmitSuccess:function(e,t){return t(Object(j.a)("dialogAddMessageForm"))}})((function(e){return Object(o.jsxs)("form",{onSubmit:e.handleSubmit,className:n.a.dialog__btn,children:[Object(o.jsx)(b.a,{component:"textarea",name:"newMyMessage"}),Object(o.jsx)("p",{children:Object(o.jsx)("button",{children:"send"})})]})}));t.a=function(e){var t=e.dialogsData.map((function(e){return Object(o.jsx)(_,{name:e.name,id:e.id},e.id)})),s=e.messages.map((function(e){return Object(o.jsx)(d,{message:e.message,img:e.img,name:e.name,position:e.position},e.id)}));return Object(o.jsxs)("div",{className:n.a.dialog,children:[Object(o.jsx)("div",{className:n.a.dialog__name,children:t}),Object(o.jsxs)("div",{className:n.a.dialog__message,children:[s,Object(o.jsx)(f,{onSubmit:function(t){e.addMessage(t.newMyMessage)}})]})]})}},244:function(e,t,s){"use strict";s.d(t,"a",(function(){return b}));var a=s(3),n=s(42),i=s(43),r=s(46),c=s(45),o=s(0),_=s.n(o),l=s(8),u=(s(242),s(20)),d=s(1),j=function(e){return{isAuth:e.auth.isAuth}},b=function(e){var t=function(t){Object(r.a)(o,t);var s=Object(c.a)(o);function o(){return Object(n.a)(this,o),s.apply(this,arguments)}return Object(i.a)(o,[{key:"render",value:function(){return this.props.isAuth?Object(d.jsx)(e,Object(a.a)({},this.props)):Object(d.jsx)(l.a,{to:"/login"})}}]),o}(_.a.Component);return Object(u.b)(j)(t)}},245:function(e,t,s){e.exports={dialog:"Dialog_dialog__3CuAW",dialog__name:"Dialog_dialog__name__3BOSM",dialog__message:"Dialog_dialog__message__1OEA_",dialog__btn:"Dialog_dialog__btn__1usaq"}},246:function(e,t,s){e.exports={dialogItem:"DialogItem_dialogItem__2_Fo5"}},247:function(e,t,s){e.exports={block:"Message_block__2vQqP",block__foto:"Message_block__foto__227qW",block__message:"Message_block__message__12yQv"}},248:function(e,t,s){e.exports={formControl:"FormsControls_formControl__-eI-s",error:"FormsControls_error__2QYLu"}},250:function(e,t,s){"use strict";s.d(t,"a",(function(){return a}));var a=function(e){if(!e)return"error message"}},255:function(e,t,s){"use strict";s.d(t,"b",(function(){return d})),s.d(t,"a",(function(){return j}));var a=s(3);function n(e,t){if(null==e)return{};var s,a,n=function(e,t){if(null==e)return{};var s,a,n={},i=Object.keys(e);for(a=0;a<i.length;a++)s=i[a],t.indexOf(s)>=0||(n[s]=e[s]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}s(0);var i=s(248),r=s.n(i),c=s(1),o=["input","meta"],_=["input","meta"],l=["input","meta"],u=function(e){e.input;var t=e.meta,s=n(e,o),a=t.touched&&t.error;return Object(c.jsxs)("div",{className:r.a.formControl+" "+(a?r.a.error:""),children:[s.children,a&&Object(c.jsx)("span",{children:t.error})]})},d=function(e){var t=e.input,s=(e.meta,n(e,_));return Object(c.jsx)(u,Object(a.a)(Object(a.a)({},e),{},{children:Object(c.jsx)("textarea",Object(a.a)(Object(a.a)({},t),s))}))},j=function(e){var t=e.input,s=(e.meta,n(e,l));return Object(c.jsx)(u,Object(a.a)(Object(a.a)({},e),{},{children:Object(c.jsx)("input",Object(a.a)(Object(a.a)({},t),s))}))}},268:function(e,t,s){e.exports={page:"Profile_page__1dnwz",profile__friendsPost:"Profile_profile__friendsPost__LNkjG"}},269:function(e,t,s){e.exports={profile__page:"ProfileInfo_profile__page__3nObq",profile__foto:"ProfileInfo_profile__foto__1vkhJ",container:"ProfileInfo_container__e6HTy",container__status:"ProfileInfo_container__status__1M0sw",container__description:"ProfileInfo_container__description__2QnxC",profile__description:"ProfileInfo_profile__description__1oc7d",profile__education:"ProfileInfo_profile__education__3HvPk",contacts:"ProfileInfo_contacts__2AvNk"}},270:function(e,t,s){e.exports={input:"ProfileIStatus_input__3YCU7",btn:"ProfileIStatus_btn__1u9ct"}},271:function(e,t,s){e.exports={page:"MyPost_page__1nIRB",item__text:"MyPost_item__text__11uQ3",page__area:"MyPost_page__area__35d97",page__area__button:"MyPost_page__area__button__1hr_Q",item__button:"MyPost_item__button__2krLp"}},272:function(e,t,s){e.exports={page:"Post_page__Ki3si",page__area:"Post_page__area__1-i0y",page__area__text:"Post_page__area__text__2vTlz",page__area__like:"Post_page__area__like__34PWL",page__ava:"Post_page__ava__20e-e"}},317:function(e,t,s){e.exports={content:"FriendsProfile_content__3KCmY",text:"FriendsProfile_text__2jM_h",friends:"FriendsProfile_friends__35-I5"}},318:function(e,t,s){e.exports={friends:"FriendsItem_friends__2E48c",friends__text:"FriendsItem_friends__text__34jMO",friends__item:"FriendsItem_friends__item__27ebM",friends__item__name:"FriendsItem_friends__item__name__3V5hd"}},322:function(e,t,s){"use strict";s.r(t);var a=s(3),n=s(42),i=s(43),r=s(46),c=s(45),o=s(0),_=s.n(o),l=s(268),u=s.n(l),d=s(269),j=s.n(d),b=s(47),p=s(74),f=s(44),m=s(270),h=s.n(m),O=s(1),x=function(e){var t=Object(o.useState)(!1),s=Object(p.a)(t,2),a=s[0],n=s[1],i=Object(o.useState)(e.status),r=Object(p.a)(i,2),c=r[0],_=r[1];Object(o.useEffect)((function(){_(e.status)}),[e.status]);return Object(O.jsxs)("div",{children:[!a&&Object(O.jsx)("div",{children:Object(O.jsx)("span",{onClick:function(){n(!0)},children:e.status||"No status"})}),a&&Object(O.jsxs)("div",{children:[Object(O.jsx)("input",{className:h.a.input,onChange:function(e){_(e.currentTarget.value)},maxlength:"50",value:c}),Object(O.jsx)("button",{className:h.a.btn,onClick:function(){n(!1),e.updateStatus(c)},children:"save"})]})]})},g=s(68),v=function(e){if(!e.profile)return Object(O.jsx)(b.a,{});return Object(O.jsxs)("div",{className:j.a.profile__page,children:[Object(O.jsxs)("div",{className:j.a.profile__foto,children:[Object(O.jsx)("img",{src:e.profile.photos.large||g.a,alt:""}),e.isOwner&&Object(O.jsxs)("label",{htmlFor:"file",children:[Object(O.jsx)("input",{onChange:function(t){e.saveProfilePhotoThunkCreator(t.target.files[0])},activeClassName:j.a.active,id:"file",type:"file"}),"Upload a photo"]}),Object(O.jsx)("div",{children:"sssss"})]}),Object(O.jsxs)("div",{className:j.a.container,children:[Object(O.jsx)("div",{className:j.a.container__status,children:Object(O.jsx)(x,{status:e.status,updateStatus:e.updateStatus})}),Object(O.jsxs)("div",{className:j.a.container__description,children:[Object(O.jsxs)("div",{className:j.a.profile__description,children:[Object(O.jsxs)("p",{children:["About me: ",e.profile.aboutMe||"----"]}),Object(O.jsxs)("p",{children:["Contacts:",Object(O.jsxs)("ul",{children:[Object(O.jsxs)("li",{className:j.a.contacts,children:["facebook:",e.profile.contacts.facebook||"----"]}),Object(O.jsxs)("li",{className:j.a.contacts,children:["github:",e.profile.contacts.github||"----"]}),Object(O.jsxs)("li",{className:j.a.contacts,children:["instagram:",e.profile.contacts.instagram||"----"]}),Object(O.jsxs)("li",{className:j.a.contacts,children:["mainLink:",e.profile.contacts.mainLink||"----"]}),Object(O.jsxs)("li",{className:j.a.contacts,children:["twitter:",e.profile.contacts.twitter||"----"]}),Object(O.jsxs)("li",{className:j.a.contacts,children:["vk:",e.profile.contacts.vk||"----"]}),Object(O.jsxs)("li",{className:j.a.contacts,children:["website:",e.profile.contacts.website||"----"]}),Object(O.jsxs)("li",{className:j.a.contacts,children:["youtube:",e.profile.contacts.youtube||"----"]})]})]})]}),Object(O.jsxs)("div",{className:j.a.profile__education,children:[Object(O.jsx)("div",{className:"education__name",children:e.profile.fullName}),Object(O.jsx)("div",{className:"education__birthday",children:"15 november"}),Object(O.jsx)("div",{className:"education__education",children:"BGTU'14"}),Object(O.jsx)("div",{className:"education__country",children:"Russia"}),Object(O.jsx)("div",{className:"education__city",children:"Bryansk"})]})]})]})]})},P=s(17),N=s(271),k=s.n(N),y=s(272),C=s.n(y),I=s(18),S=s(19),M=function(e){var t=Object(o.useState)(e.like),s=Object(p.a)(t,2),a=s[0],n=s[1];return Object(O.jsxs)("div",{className:C.a.page,children:[Object(O.jsx)("div",{className:C.a.page__ava,children:Object(O.jsx)("img",{src:"https://www.meme-arsenal.com/memes/4522023f3e25467b5328d24596676806.jpg",alt:""})}),Object(O.jsxs)("div",{className:C.a.page__area,children:[Object(O.jsx)("div",{className:C.a.page__area__text,children:e.message}),Object(O.jsxs)("div",{className:C.a.page__area__like,children:[Object(O.jsx)("p",{onClick:function(){return n(a+1)},children:Object(O.jsx)(I.a,{icon:S.d})}),Object(O.jsx)("span",{children:a})]})]})]})},w=s(32),T=s(117),F=s(118),A=s(250),U=s(255),D=Object(F.a)({form:"AddMyPostForm",onSubmitSuccess:function(e,t){return t(Object(w.a)("AddMyPostForm"))}})((function(e){return Object(O.jsxs)("form",{onSubmit:e.handleSubmit,className:k.a.page__area,children:[Object(O.jsx)("div",{className:k.a.item__text,children:Object(O.jsx)(T.a,{component:U.b,name:"newMyPost",validate:[A.a]})}),Object(O.jsx)("div",{className:k.a.item__button,children:Object(O.jsx)("button",{children:"send"})})]})})),L=function(e){var t=Object(P.a)(e.posts).reverse().map((function(e){return Object(O.jsx)(M,{message:e.message,like:e.likeCount},e.id)}));return Object(O.jsxs)("div",{className:k.a.page,children:[Object(O.jsx)(D,{onSubmit:function(t){e.addPost(t.newMyPost)}}),t]})},Q=s(20),q=Object(Q.b)((function(e){return{posts:e.profilesPage.posts,newPostText:e.profilesPage.newPostText}}),(function(e){return{addPost:function(t){e(Object(f.a)(t))}}}))(L),B=s(317),E=s.n(B),J=s(318),W=s.n(J),Y=function(e){var t=e.name.split(" ")[0];return Object(O.jsx)("div",{className:W.a.friends,children:Object(O.jsx)("div",{className:W.a.friends__item,children:Object(O.jsxs)("div",{className:"item__img",children:[Object(O.jsx)("img",{src:void 0!=e.img?e.img:g.a,alt:""}),Object(O.jsx)("p",{children:t})]})})})},z=(s(92),s(23)),G=function(e){var t=e.friendsList.map((function(e){return Object(O.jsx)(Y,{name:e.name,img:e.img},e.id)}));return Object(O.jsxs)("div",{className:E.a.content,children:[Object(O.jsx)("div",{className:E.a.text,children:Object(O.jsx)(z.b,{to:"/friends",children:"Friends "})}),Object(O.jsx)("div",{className:E.a.friends,children:t})]})},H=s(69),K=Object(Q.b)((function(e){return{friendsList:Object(H.e)(e)}}))(G),R=function(e){return Object(O.jsxs)("div",{className:u.a.page,children:[Object(O.jsx)(v,{isOwner:e.isOwner,profile:e.profile,status:e.status,updateStatus:e.updateStatus,saveProfilePhotoThunkCreator:e.saveProfilePhotoThunkCreator}),Object(O.jsxs)("div",{className:u.a.profile__friendsPost,children:[Object(O.jsx)(K,{}),Object(O.jsx)(q,{})]})]})},V=s(8),X=s(244),Z=s(28),$=s(60),ee=function(e){return e.profilesPage.profile},te=function(e){return e.profilesPage.status},se=function(e){Object(r.a)(s,e);var t=Object(c.a)(s);function s(){return Object(n.a)(this,s),t.apply(this,arguments)}return Object(i.a)(s,[{key:"componentDidMount",value:function(){var e=this.props.match.params.userId;e||(e=this.props.userId)||this.props.history.push("/login"),this.props.getUserProfileThunkCreator(e),this.props.getUserStatusThunkCreator(e)}},{key:"componentDidUpdate",value:function(e,t,s){if(this.props.match.params.userId!=e.match.params.userId){var a=this.props.match.params.userId;a||(a=this.props.userId)||this.props.history.push("/login"),this.props.getUserProfileThunkCreator(a),this.props.getUserStatusThunkCreator(a)}}},{key:"render",value:function(){return Object(O.jsx)(R,Object(a.a)(Object(a.a)({},this.props),{},{isOwner:!this.props.match.params.userId,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateUserStatusThunkCreator,saveProfilePhotoThunkCreator:this.props.saveProfilePhotoThunkCreator}))}}]),s}(_.a.Component);t.default=Object(Z.d)(Object(Q.b)((function(e){return{profile:ee(e),status:te(e),userId:Object($.a)(e),isAuth:Object($.b)(e)}}),{getUserProfileThunkCreator:f.c,getUserStatusThunkCreator:f.d,updateUserStatusThunkCreator:f.f,saveProfilePhotoThunkCreator:f.e}),V.f,X.a)(se)}}]);
//# sourceMappingURL=4.bd78e745.chunk.js.map