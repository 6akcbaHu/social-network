{"version":3,"sources":["componets/Dialog/DialogItem/DialogItem.jsx","componets/Dialog/Message/Message.jsx","componets/Dialog/Dialog.jsx","hoc/withAuthRedirect.js","componets/Dialog/Dialog.module.css","componets/Dialog/DialogItem/DialogItem.module.css","componets/Dialog/Message/Message.module.css","componets/Users/Users.module.css","images/users.jpg","componets/Users/Users.jsx","componets/selectors/usersSelectors.js","componets/Users/UsersContainer.jsx"],"names":["DialogfItem","props","className","s","dialogItem","src","alt","to","id","name","Message","style","float","position","block","block__foto","img","block__message","message","AddMessageRedaxForm","reduxForm","form","onSubmit","handleSubmit","dialog__btn","Field","component","Dialog","dialogsElements","dialogsData","map","el","messagesElements","messages","dialog","dialog__name","dialog__message","value","addMessage","newMyMessage","mapStateToPropsForRedirect","state","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","React","connect","module","exports","Users","users","users__input","type","u","users__item","item__foto","photos","small","AvaUsers","item__name","item__button","followed","disabled","followInProgerss","some","onClick","unfollowThunkCreator","followThunkCreator","user__button","nextPage","usersSelectors","usersPage","pageSizeSelectors","pageSize","totalUsersCountSelectors","totalUsersCount","currentPageSelectors","currentPage","isFetchingSelectors","isFetching","followInProgerssSelectors","UsersСontainer","componentDidMount","getUsersThunkCreator","nextPageThunkCreator","Preloader","compose","setCurrentPage","toggleIsFatching","toggleFollowInProgress"],"mappings":"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","file":"static/js/5.dd99c77d.chunk.js","sourcesContent":["import React from 'react';\r\nimport s from \"./DialogItem.module.css\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst DialogfItem = (props) => {\r\n    return (<div className={s.dialogItem}>\r\n            <div className=\".dialogItem__img\">\r\n                <img\r\n                    src=\"https://habrastorage.org/getpro/habr/post_images/3db/ac4/5df/3dbac45df51c33b0bd63621081afbe29.jpg\"\r\n                    alt=\"\"/>\r\n            </div>\r\n            <NavLink to={'/dialog/' + props.id}>{props.name}</NavLink>\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default DialogfItem;","import React from 'react';\r\nimport s from \"./Message.module.css\";\r\n\r\n\r\nconst Message = (props) => {\r\n    let style={\r\n        float:props.position\r\n    }\r\n\r\n    return (<div className={s.block} style={style}>\r\n            {/*<div className={s.null}></div>*/}\r\n            <div className={s.block__foto}>\r\n                <img\r\n                    src={props.img}\r\n                    alt=\"\"/>\r\n                <p>{props.name}</p>\r\n            </div>\r\n            <div className={s.block__message}>\r\n                <p>{props.message}</p>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n    // return <div className={s.dialog__message_messages}>{props.message}</div>\r\n}\r\n\r\n\r\nexport default Message;","import React from 'react';\r\nimport s from \"../Dialog/Dialog.module.css\";\r\nimport DialogfItem from \"./DialogItem/DialogItem\";\r\nimport Message from \"./Message/Message\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\n\r\n\r\nconst Dialog = (props) => {\r\n\r\n\r\n    let dialogsElements = props.dialogsData.map(el => <DialogfItem name={el.name} key={el.id} id={el.id}/>)\r\n    let messagesElements = props.messages.map(el => <Message message={el.message} key={el.id} img={el.img} name={el.name} position={el.position}/>)\r\n\r\n    // let newMessagePost = React.createRef();\r\n\r\n    // let addMessage = () => {\r\n    //\r\n    //     props.addMessage()\r\n    //\r\n    // }\r\n    // let onMessageChange = (e) => {\r\n    //\r\n    //     let text = e.currentTarget.value\r\n    //     props.onMessageChange(text)\r\n    //\r\n    // }\r\n    let addNewMessage=(value)=>{\r\n        // debugger\r\n        props.addMessage(value.newMyMessage)\r\n    }\r\n\r\n        return (\r\n            <div className={s.dialog}>\r\n                <div className={s.dialog__name}>\r\n                    {dialogsElements}\r\n                </div>\r\n                <div className={s.dialog__message}>\r\n                    {messagesElements}\r\n                    {/*{myMessagesElements}*/}\r\n                   <AddMessageRedaxForm onSubmit={addNewMessage}/>\r\n                </div>\r\n            </div>\r\n        )\r\n\r\n\r\n}\r\nconst AddMessageForm=(props)=>{\r\n\r\n    return(\r\n        <form onSubmit={props.handleSubmit} className={s.dialog__btn}>\r\n                        <Field component={'textarea'} name={'newMyMessage'}/>\r\n            <p>\r\n                <button>send</button>\r\n            </p>\r\n        </form>\r\n    )\r\n}\r\nconst AddMessageRedaxForm=reduxForm({form:'dialogAddMessageForm'})(AddMessageForm)\r\nexport default Dialog;","import React from \"react\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport Dialog from \"../componets/Dialog/Dialog\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToPropsForRedirect=(state)=>{\r\n    return {\r\n        isAuth:state.auth.isAuth\r\n    }\r\n};\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n\r\n            if (!this.props.isAuth) return <Redirect to={\"/login\"}/>\r\n            return <Component {...this.props}/>\r\n\r\n        }\r\n    }\r\n\r\n\r\n   let ConnectedAuthRedicertComponent=connect(mapStateToPropsForRedirect)(RedirectComponent)\r\n    return ConnectedAuthRedicertComponent\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialog\":\"Dialog_dialog__3CuAW\",\"dialog__name\":\"Dialog_dialog__name__3BOSM\",\"dialog__message\":\"Dialog_dialog__message__1OEA_\",\"dialog__btn\":\"Dialog_dialog__btn__1usaq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogItem\":\"DialogItem_dialogItem__2_Fo5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"block\":\"Message_block__2vQqP\",\"block__foto\":\"Message_block__foto__227qW\",\"block__message\":\"Message_block__message__12yQv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"users\":\"Users_users__1KiRt\",\"users__input\":\"Users_users__input__3c_59\",\"users__item\":\"Users_users__item__2mWVU\",\"item__foto\":\"Users_item__foto__2kfaA\",\"item__name\":\"Users_item__name__1KPv0\",\"item__button\":\"Users_item__button__3L9t4\",\"user__button\":\"Users_user__button__1OhBx\"};","export default __webpack_public_path__ + \"static/media/users.5c27c9e3.jpg\";","import React from \"react\";\r\nimport s from \"./Users.module.css\"\r\nimport AvaUsers from \"../../images/users.jpg\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport {getFollowUsers, getUnFollowUsers} from \"../../api/api\";\r\n\r\nconst Users = (props) => {\r\n\r\n    return (\r\n\r\n\r\n        <div className={s.users}>\r\n            <div className={s.users__input}>\r\n                <input type=\"text\"/>\r\n            </div>\r\n\r\n            {props.users.map(u =>\r\n\r\n                <div key={u.id} className={s.users__item}>\r\n                    <div className={s.item__foto}>\r\n\r\n                        <NavLink to={'/profile/' + u.id}><img src={u.photos.small != null ? u.photos.small : AvaUsers}/></NavLink>\r\n                    </div>\r\n                    <div className={s.item__name}>\r\n                        <p>{u.name}</p>\r\n                        <p>{'u.location.city'}</p>\r\n                        <p>{'u.location.conutry'}</p>\r\n                    </div>\r\n                    <div className={s.item__button}>\r\n                        {u.followed\r\n                            ? <button disabled={props.followInProgerss.some(id => id === u.id)} onClick={() => {\r\n                                props.unfollowThunkCreator(u.id)\r\n\r\n                            }}>unfollow</button>\r\n                            : <button disabled={props.followInProgerss.some(id => id === u.id)} onClick={() => {\r\n                                props.followThunkCreator(u.id)\r\n\r\n\r\n                            }}>follow</button>}\r\n                    </div>\r\n                </div>\r\n            )}\r\n            <button className={s.user__button} onClick={() => {\r\n                props.nextPage()\r\n            }}>Show more\r\n            </button>\r\n        </div>\r\n    )\r\n\r\n\r\n}\r\n\r\nexport default Users;","export const usersSelectors = (state) => {\r\n    return state.usersPage.users\r\n}\r\nexport const pageSizeSelectors = (state) => {\r\n    return state.usersPage.pageSize\r\n}\r\nexport const totalUsersCountSelectors = (state) => {\r\n    return state.usersPage.totalUsersCount\r\n}\r\nexport const currentPageSelectors = (state) => {\r\n    return state.usersPage.currentPage\r\n}\r\nexport const isFetchingSelectors = (state) => {\r\n    return state.usersPage.isFetching\r\n}\r\nexport const followInProgerssSelectors = (state) => {\r\n    return state.usersPage.followInProgerss\r\n}","import React from \"react\";\r\nimport Users from \"./Users\";\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n    followThunkCreator, getUsersThunkCreator, nextPageThunkCreator,\r\n    setCurrentPage,\r\n    toggleFollowInProgress, toggleIsFatching,\r\n    unfollowThunkCreator\r\n} from \"../../redux/reducerUser\";\r\n\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\nimport {\r\n    currentPageSelectors, followInProgerssSelectors,\r\n    isFetchingSelectors,\r\n     pageSizeSelectors,\r\n    totalUsersCountSelectors, usersSelectors\r\n} from \"../selectors/usersSelectors\";\r\n\r\n\r\nclass UsersСontainer extends React.Component {\r\n\r\n    componentDidMount = () => {\r\n        this.props.getUsersThunkCreator(this.props.currentPage, this.props.pageSize)\r\n\r\n    }\r\n\r\n    nextPage = () => {\r\n        this.props.nextPageThunkCreator(this.props.currentPage, this.props.pageSize)\r\n\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n            <>\r\n                {this.props.isFetching ? <Preloader/> : null}\r\n                <Users users={this.props.users}\r\n                       unfollowThunkCreator={this.props.unfollowThunkCreator}\r\n                       followThunkCreator={this.props.followThunkCreator}\r\n                       nextPage={this.nextPage}\r\n                       isFetching={this.props.isFetching}\r\n                       followInProgerss={this.props.followInProgerss}\r\n\r\n                />\r\n            </>\r\n\r\n\r\n        )\r\n    }\r\n\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n\r\n    return {\r\n        users: usersSelectors(state),\r\n        pageSize: pageSizeSelectors(state),\r\n        totalUsersCount: totalUsersCountSelectors(state),\r\n        currentPage: currentPageSelectors(state),\r\n        isFetching: isFetchingSelectors(state),\r\n        followInProgerss: followInProgerssSelectors(state)\r\n\r\n    }\r\n\r\n}\r\n\r\n\r\nexport default compose(\r\n    withAuthRedirect,\r\n    connect(mapStateToProps,\r\n        {\r\n            followThunkCreator, unfollowThunkCreator, setCurrentPage,\r\n            toggleIsFatching, toggleFollowInProgress, getUsersThunkCreator, nextPageThunkCreator\r\n        })\r\n)(UsersСontainer)\r\n"],"sourceRoot":""}